<!doctype html>
<html lang="en">

<head>
        <title>Quaternion - tinyso3</title>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        
        
        

        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
            <link rel="stylesheet" href="../assets/css/darcula-highlight.min.css">

        <link rel="stylesheet" href="../assets/css/bootstrap.min.css">
        <link rel="stylesheet" href="../assets/css/dracula-ui.min.css">
        <link rel="stylesheet" href="../assets/css/mkdocs.min.css">

        
            <link  rel="icon" type="image/x-icon" href="../assets/img/favicon.ico">
        
            <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
                <script>hljs.initHighlightingOnLoad();</script>

</head>

<body class="drac-bg-black-secondary drac-text-grey-ternary drac-text drac-scrollbar-purple">

    <main class="d-flex">

        <!-- block sidebar -->
            <nav id="sidebar" class="sidebar drac-bg-black">
    <div class="custom-menu">
        <button type="button" id="sidebarCollapse" class="btn btn-primary">
            <i class="fa fa-bars"></i>
            <span class="sr-only">Menu</span>
        </button>
    </div>

    <div class="p-4">
        
            <img class="logo" src="../tinyso3.jpg" height="150px">
        

        <div class="drac-text-center">
            
                <span class="drac-text drac-line-height drac-text-white">tinyso3</span>
            
        </div>

        <div class="drac-box flex-column">
            <ul class="dot-ul">
                <li><div class="dot-li drac-bg-cyan"></div></li>
                <li><div class="dot-li drac-bg-green"></div></li>
                <li><div class="dot-li drac-bg-orange"></div></li>
                <li><div class="dot-li drac-bg-pink"></div></li>
                <li><div class="dot-li drac-bg-purple"></div></li>
                <li><div class="dot-li drac-bg-red"></div></li>
                <li><div class="dot-li drac-bg-yellow"></div></li>
            </ul>
        </div>

        <hr class="drac-divider" />

        <!-- block menu -->
        <ul class="mb-5 drac-list drac-list-none">
            
            <li class="drac-box">
                <a href=".."
                    class="
                    drac-anchor d-inline-flex align-items-center border-0 drac-text-purple--hover">
                    Home
                </a>
            </li>
            <li class="drac-box">
                <a href="../rotation_matrix/"
                    class="
                    drac-anchor d-inline-flex align-items-center border-0 drac-text-purple--hover">
                    Rotation Matrix
                </a>
            </li>
            <li class="drac-box">
                <a href="../euler_angles/"
                    class="
                    drac-anchor d-inline-flex align-items-center border-0 drac-text-purple--hover">
                    Euler Angles
                </a>
            </li>
            <li class="drac-box">
                <a href="../axis_angle/"
                    class="
                    drac-anchor d-inline-flex align-items-center border-0 drac-text-purple--hover">
                    Axis-Angle
                </a>
            </li>
            <li class="drac-box">
                <a href="./"
                    class=" active 
                    drac-anchor d-inline-flex align-items-center border-0 drac-text-purple--hover">
                    Quaternion
                </a>
            </li>
            <li class="drac-box">
                <a href="../rotational_kinematics/"
                    class="
                    drac-anchor d-inline-flex align-items-center border-0 drac-text-purple--hover">
                    Rotational Kinematics
                </a>
            </li>
        </ul>
        <!-- endblock -->
    </div>
</nav>
        <!-- endblock -->

        <nav class="divider drac-bg-purple-cyan"></nav>

        <div class="content">
            <!-- block header -->
                <header>
    <nav class="navbar navbar-expand-xl drac-bg-purple">
        <div class="container-fluid">
            
            <button class="navbar-toggler w-100 text-center" type="button" data-bs-toggle="collapse" data-bs-target="#navbarsMenu"
                aria-controls="navbarsMenu" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>

            <div class="collapse navbar-collapse flex-column ml-auto" id="navbarsMenu">
                <ul class="navbar-nav text-md-center">

                    <!-- block preview -->
                    <li class="nav-item">
                            
        <div class="container">
            <div class="row row-preview">
                <div class="col">
                    <a href="../axis_angle/"
                        class="btn-preview drac-btn drac-btn-outline drac-text-white drac-text-cyan-green--hover">
                        <i class="fa fa-arrow-left"></i> Previous
                    </a>
                </div>
                <div class="col">
                    <a href="../rotational_kinematics/"
                        class="btn-preview drac-btn drac-btn-outline drac-text-white drac-text-cyan-green--hover" style="padding-left: 3%;">
                        Next <i class="fa fa-arrow-right"></i>
                    </a>
                </div>
            </div>
        </div>
                    </li>
                    <!--  endblock -->

                    <!-- block search -->
                    <li class="nav-item"><div role="search" class="search-box">
	<form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
		<input type="text" name="q" class="drac-input drac-input-search drac-input-white drac-text-white drac-bg-black-secondary"
		placeholder="Search docs" title="Type search term here" />
	</form>
</div>
                    </li>
                    <!--  endblock -->

                    <!-- block source -->
                    <li class="nav-item">
                        
                    </li>
                    <!--  endblock -->

                </ul>
            </div>

        </div>
    </nav>
</header>
            <!-- endblock -->

            <!-- block content -->
                <section class="p-md-5 section-content">
    <article>
        <p><h1 id="quaternion">Quaternion<a class="headerlink" href="#quaternion" title="Permanent link">&para;</a></h1>
<p>A quaternion is a four-dimensional complex number used to represent rotations in 3D space. It offers a compact and efficient way to encode rotation without suffering from gimbal lock, which can occur with Euler angles. Quaternions are widely used in various applications such as computer graphics, robotics, and aerospace.</p>
<p>A quaternion <span class="arithmatex">\(q\)</span> is typically expressed as:</p>
<div class="arithmatex">\[ q = w + xi + yj + zk \]</div>
<p>Where <span class="arithmatex">\(w, x, y, z\)</span> are real numbers, and $ i, j, k $ are the fundamental quaternion units.</p>
<p>Alternatively, it can be written in vector form as:</p>
<h3 id="hamilton-convention">HAMILTON convention<a class="headerlink" href="#hamilton-convention" title="Permanent link">&para;</a></h3>
<div class="arithmatex">\[ q = \begin{bmatrix} w \\ \vec{v} \end{bmatrix} = \begin{bmatrix} w \\ x \\ y \\ z \end{bmatrix} \]</div>
<h3 id="jpl-convention">JPL convention<a class="headerlink" href="#jpl-convention" title="Permanent link">&para;</a></h3>
<p>The Jet Propulsion Laboratory (JPL) convention differs from Hamilton in the sign of the vector part of the quaternion. It is typically used in aerospace applications.</p>
<div class="arithmatex">\[ q = \begin{bmatrix} \vec{v} \\ w \end{bmatrix} = \begin{bmatrix} x \\ y \\ z \\ w \end {bmatrix} \]</div>
<p>Here, <span class="arithmatex">\(w\)</span> is the scalar part, and <span class="arithmatex">\(\vec{v} = \begin{bmatrix} x \\ y \\ z \end{bmatrix}\)</span> is the vector part.</p>
<h2 id="quaternion-algebra">Quaternion Algebra<a class="headerlink" href="#quaternion-algebra" title="Permanent link">&para;</a></h2>
<ol>
<li>
<p><strong>Addition</strong>: Quaternions are added component-wise:
   $$ q_1 + q_2 = (w_1 + w_2) + (x_1 + x_2)i + (y_1 + y_2)j + (z_1 + z_2)k $$</p>
</li>
<li>
<p><strong>Multiplication</strong>: Quaternion multiplication is defined as:
   $$ q_1 q_2 = (w_1 w_2 - \vec{v}_1 \cdot \vec{v}_2) + (w_1 \vec{v}_2 + w_2 \vec{v}_1 + \vec{v}_1 \times \vec{v}_2) $$
   This can also be written in matrix form.</p>
</li>
<li>
<p><strong>Conjugate</strong>: The conjugate of a quaternion is:
   $$ q^* = w - xi - yj - zk $$</p>
</li>
<li>
<p><strong>Norm</strong>: The norm of a quaternion is:
   $$ |q| = \sqrt{w^2 + x^2 + y^2 + z^2} $$</p>
</li>
<li>
<p><strong>Inverse</strong>: The inverse of a quaternion is:
   $$ q^{-1} = \frac{q^*}{|q|^2} $$</p>
</li>
</ol>
<h2 id="rotation-representation">Rotation Representation<a class="headerlink" href="#rotation-representation" title="Permanent link">&para;</a></h2>
<p>To represent a rotation by an angle <span class="arithmatex">\(\theta\)</span> around a unit vector <span class="arithmatex">\(\hat{u}\)</span>:</p>
<div class="arithmatex">\[ q = \cos\left(\frac{\theta}{2}\right) + \hat{u} \sin\left(\frac{\theta}{2}\right) \]</div>
<p>Where <span class="arithmatex">\(\hat{u} = \begin{bmatrix} u_x \\ u_y \\ u_z \end{bmatrix}\)</span> is the axis of rotation.</p>
<h2 id="applying-rotation">Applying Rotation<a class="headerlink" href="#applying-rotation" title="Permanent link">&para;</a></h2>
<p>To rotate a vector <span class="arithmatex">\(\vec{v}\)</span> using a quaternion <span class="arithmatex">\(q\)</span>:</p>
<ol>
<li>
<p>Convert the vector to a quaternion with a zero scalar part:
   $$ \vec{v} \rightarrow q_v = 0 + v_x i + v_y j + v_z k $$</p>
</li>
<li>
<p>Perform the rotation:
   $$ q' = q q_v q^{-1} $$</p>
</li>
</ol>
<p>The resulting vector <span class="arithmatex">\(\vec{v}'\)</span> is extracted from <span class="arithmatex">\(q'\)</span>.</p>
<h2 id="composition-of-multiple-quaternions">Composition of Multiple Quaternions<a class="headerlink" href="#composition-of-multiple-quaternions" title="Permanent link">&para;</a></h2>
<p>In the Hamilton convention, quaternion multiplication is used to compose rotations. If you have two quaternions, <span class="arithmatex">\(q_1\)</span> and <span class="arithmatex">\(q_2\)</span>, representing two rotations, the composition of these rotations is achieved by multiplying the quaternions.</p>
<p>The product of two quaternions <span class="arithmatex">\(q_1\)</span> and <span class="arithmatex">\(q_2\)</span> is:</p>
<p>Where:</p>
<div class="arithmatex">\[q_1 = w_1 + x_1 i + y_1 j + z_1 k\]</div>
<div class="arithmatex">\[q_2 = w_2 + x_2 i + y_2 j + z_2 k\]</div>
<p>The resulting quaternion <span class="arithmatex">\(q\)</span> is:</p>
<div class="arithmatex">\[ q = (w_1 w_2 - x_1 x_2 - y_1 y_2 - z_1 z_2) + (w_1 x_2 + x_1 w_2 + y_1 z_2 - z_1 y_2) i + (w_1 y_2 + y_1 w_2 + z_1 x_2 - x_1 z_2) j + (w_1 z_2 + z_1 w_2 + x_1 y_2 - y_1 x_2) k \]</div>
<h2 id="spherical-linear-interpolation-slerp">Spherical Linear Interpolation (SLERP)<a class="headerlink" href="#spherical-linear-interpolation-slerp" title="Permanent link">&para;</a></h2>
<p>SLERP is used to interpolate smoothly between two quaternions. It ensures constant angular velocity and produces the shortest path on the unit sphere.</p>
<p>Given two quaternions <span class="arithmatex">\(q_1\)</span> and <span class="arithmatex">\(q_2\)</span>, SLERP between them for <span class="arithmatex">\(t \in [0, 1]\)</span> is defined as:</p>
<div class="arithmatex">\[ \text{slerp}(q_1, q_2, t) = \frac{\sin((1 - t) \theta) q_1 + \sin(t \theta) q_2}{\sin(\theta)} \]</div>
<p>Where $ \theta $ is the angle between <span class="arithmatex">\(q_1\)</span> and <span class="arithmatex">\(q_2\)</span>:</p>
<div class="arithmatex">\[ \cos(\theta) = q_1 \cdot q_2 \]</div></p>
    </article>
</section>
            <!-- endblock -->

            <!-- block footer -->
                <footer>
    <div class="d-flex flex-sm-row justify-content-between py-2 border-top drac-text-black drac-bg-cyan-green">
        <a href="https://github.com/dracula/mkdocs" target="_blank" style="padding-left: 1%;"
            class="footer-text drac-anchor drac-text-black drac-text-purple--hover">
            Made with Dracula Theme for MkDocs
        </a>
    </div>
</footer>
            <!-- endblock -->
        </div>

    </main>

        <script>var base_url = '..';</script>
        <script src="../assets/js/jquery-3.3.1.slim.min.js"></script>
        <script src="../assets/js/bootstrap.bundle.min.js"></script>
        <script src="../assets/js/mkdocs.js"></script>
			<script src="../javascripts/mathjax.js" defer></script>
			<script src="https://polyfill.io/v3/polyfill.min.js?features=es6" defer></script>
			<script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js" defer></script>
			<script src="https://unpkg.com/mathjax@3/es5/tex-mml-chtml.js" defer></script>
			<script src="../search/main.js" defer></script>

</body>

</html>